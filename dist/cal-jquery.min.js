!function(n){n.fn.cal=function(e){var t={mondayFirst:!0,onMonthChange:function(){console.log(arguments)},onDateClick:function(){console.log(arguments)}},a=n.extend({},t,e);return this.each(function(){function e(){r>11&&(s++,r-=12),0>r&&(s--,r+=12)}function t(n,e){g.empty(),r="undefined"==typeof n?l.getMonth():n,"object"==typeof n&&(r=n.getMonth()),s="undefined"==typeof e?l.getFullYear():e;var t=new Date(s,r,1),c=t.getDay(),f=new Date(s,r+1,0).getDate(),h=new Date(s,r,0).getDate(),y=a.mondayFirst?-5:1;o(h-c+y,h),d(f),r===i.getMonth()&&g.find(".day.current-month").eq(i.getDate()-1).addClass("today"),m.html(u[r]+", "+s)}function o(n,e,t){for(var a=n;e>=a;)g.append(c(a,t)),a++}function d(n){o(1,n,!0)}function c(e,t){return"undefined"==typeof e&&(e=""),n("<div>").addClass("day").addClass(t?"current-month":"").text(e)}var i=new Date,l=i,r=l.getMonth(),s=l.getFullYear(),u=["January","February","March","April","May","June","July","August","September","October","November","December"],f=n(this),h=n("<div>").addClass("btn btn-previous-month").html("&larr;").on("click",function(){r-=1,e(),"undefined"!=typeof a.onMonthChange&&a.onMonthChange(s,r),t(r,s)}),y=n("<div>").addClass("btn btn-next-month").html("&rarr;").on("click",function(){r+=1,e(),"undefined"!=typeof a.onMonthChange&&a.onMonthChange(s,r),t(r,s)}),g=n("<div>").addClass("cont-cal").on("click",".day.current-month",function(){g.find(".selected").removeClass("selected"),g.find(".today").removeClass("today"),n(this).addClass("selected");var e=new Date(s,r,n(this).text());"undefined"!=typeof a.onDateClick&&a.onDateClick(e)}),m=n("<div>").addClass("cont-cal-title"),C=n("<div>").addClass("cont-cal-control").append(h,y,m);f.html("").append(C,g),t()})}}(jQuery);