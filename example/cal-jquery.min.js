!function(e){e.fn.cal=function(n){return this.each(function(){function t(){r>11&&(s++,r-=12),0>r&&(s--,r+=12)}function a(e,n){p.empty(),r="undefined"==typeof e?l.getMonth():e,"object"==typeof e&&(r=e.getMonth()),s="undefined"==typeof n?l.getFullYear():n;var t=new Date(s,r,1),a=t.getDay(),i=new Date(s,r+1,0).getDate(),c=new Date(s,r,0).getDate(),f=1;o(c-a+f,c),d(i),y.html(u[r]+", "+s)}function o(e,n,t){for(var a=e;n>=a;)p.append(i(a,t)),a++}function d(e){o(1,e,!0)}function i(n,t){return"undefined"==typeof n&&(n=""),e("<div>").addClass("day").addClass(t?"current-month":"").text(n)}var c=new Date,l=c,r=l.getMonth(),s=l.getFullYear(),u=["January","February","March","April","May","June","July","August","September","October","November","December"],f=e("<div>").addClass("btn btn-previous-month").html("&larr;").on("click",function(){r-=1,t(),"undefined"!=typeof n.onMonthChange&&n.onMonthChange(s,r),a(r,s)}),h=e("<div>").addClass("btn btn-next-month").html("&rarr;").on("click",function(){r+=1,t(),"undefined"!=typeof n.onMonthChange&&n.onMonthChange(s,r),a(r,s)}),p=e("<div>").addClass("cont-cal").on("click",".day",function(){e(this).siblings(".day.selected").removeClass("selected"),e(this).addClass("selected");var t=new Date(s,r,e(this).text());"undefined"!=typeof n.onDateClick&&n.onDateClick(t)}),y=e("<div>").addClass("cont-cal-title"),C=e("<div>").addClass("cont-cal-control").append(f,h,y);e(this).html("").append(C,p),a()})}}(jQuery);