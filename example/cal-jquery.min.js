!function(n){n.fn.cal=function(e){var t={sundayPosition:6,onMonthChange:function(){console.log(arguments)},onDateClick:function(){console.log(arguments)}},a=n.extend({},t,e);return this.each(function(){function e(){l>11&&(r++,l-=12),0>l&&(r--,l+=12)}function t(n,e){y.empty(),l="undefined"==typeof n?c.getMonth():n,"object"==typeof n&&(l=n.getMonth()),r="undefined"==typeof e?c.getFullYear():e;var t=new Date(r,l,1),d=t.getDay(),u=new Date(r,l+1,0).getDate();new Date(r,l,0).getDate();o(0,(d+a.sundayPosition)%7,!1),o(1,u,!0),l===i.getMonth()&&y.find(".day.current-month").eq(i.getDate()-1).addClass("today"),g.html(s[l]+", "+r)}function o(n,e,t){for(var a=n;e>a;)y.append(d(a,t)),a++}function d(e,t){return"undefined"==typeof e&&(e=""),n("<div>").addClass("day").addClass(t?"current-month":"").text(e)}var i=new Date,c=i,l=c.getMonth(),r=c.getFullYear(),s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=n(this),f=n("<div>").addClass("btn btn-previous-month").html("&larr;").on("click",function(){l-=1,e(),"undefined"!=typeof a.onMonthChange&&a.onMonthChange(r,l),t(l,r)}),h=n("<div>").addClass("btn btn-next-month").html("&rarr;").on("click",function(){l+=1,e(),"undefined"!=typeof a.onMonthChange&&a.onMonthChange(r,l),t(l,r)}),y=n("<div>").addClass("cont-cal").on("click",".day.current-month",function(){y.find(".selected").removeClass("selected"),y.find(".today").removeClass("today"),n(this).addClass("selected");var e=new Date(r,l,n(this).text());"undefined"!=typeof a.onDateClick&&a.onDateClick(e)}),g=n("<div>").addClass("cont-cal-title"),C=n("<div>").addClass("cont-cal-control").append(f,h,g);u.html("").append(C,y),t()})}}(jQuery);