var cal=function(){function e(e,t){var n={mondayFirst:!0,onMonthChange:function(){console.log(arguments)},onDateClick:function(){console.log(arguments)}};for(prop in t)n[prop]=t[prop];var a=document.querySelectorAll(e),o=Array.prototype.slice.call(a);o.forEach(function(e){function t(){u>11&&(m++,u-=12),0>u&&(m--,u+=12)}function a(e,t){g.innerHTML="",u="undefined"==typeof e?s.getMonth():e,"object"==typeof e&&(u=e.getMonth()),m="undefined"==typeof t?s.getFullYear():t;var a=new Date(m,u,1),c=a.getDay(),i=new Date(m,u+1,0).getDate(),d=new Date(m,u,0).getDate(),p=n.mondayFirst?-5:1;o(d-c+p,d),r(i),u===l.getMonth()&&g.getElementsByClassName("current-month")[l.getDate()-1].classList.add("today"),h.innerHTML=f[u]+", "+m}function o(e,t,n){for(var a=e;t>=a;)g.appendChild(c(a,n)),a++}function r(e){o(1,e,!0)}function c(e,t){"undefined"==typeof e&&(e="");var n=document.createElement("div");return n.classList.add("day"),t&&n.classList.add("current-month"),n.innerHTML=e,n}var i,d,l=new Date,s=l,u=s.getMonth(),m=s.getFullYear(),f=["January","February","March","April","May","June","July","August","September","October","November","December"],p=document.createElement("div");p.classList.add("cont-cal-control"),i=document.createElement("div"),i.innerHTML="&larr;",i.classList.add("btn","btn-previous-month"),i.addEventListener("click",function(e){u-=1,t(),"undefined"!=typeof n.onMonthChange&&n.onMonthChange(m,u),a(u,m)}),p.appendChild(i),d=document.createElement("div"),d.innerHTML="&rarr;",d.classList.add("btn","btn-next-month"),d.addEventListener("click",function(e){u+=1,t(),"undefined"!=typeof n.onMonthChange&&n.onMonthChange(m,u),a(u,m)}),p.appendChild(d);var h=document.createElement("div");h.classList.add("cont-cal-title"),p.appendChild(h);var g=document.createElement("div");g.classList.add("cont-cal"),g.addEventListener("click",function(e){if(e.target.classList.contains("current-month")){var t=g.getElementsByClassName("selected");t.length>0&&t[0].classList.remove("selected");var a=g.getElementsByClassName("today");a.length>0&&a[0].classList.remove("today"),e.target.classList.add("selected");var o=new Date(m,u,e.target.innerHTML);"undefined"!=typeof n.onDateClick&&n.onDateClick(o)}}),e.appendChild(p),e.appendChild(g),a()})}function t(e){var t=document.querySelectorAll(e),n=Array.prototype.slice.call(t);n.forEach(function(e){e.innerHTML=""})}return{init:e,destroy:t}}();