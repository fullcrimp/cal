!function(n){n.fn.cal=function(e){var t={sundayFirst:!1,mondayFirst:!1,onMonthChange:function(){console.log(arguments)},onDateClick:function(){console.log(arguments)}},o=n.extend({},t,e);return this.each(function(){function e(){s>11&&(r++,s-=12),0>s&&(r--,s+=12)}function t(n,e){y.empty(),s="undefined"==typeof n?l.getMonth():n,"object"==typeof n&&(s=n.getMonth()),r="undefined"==typeof e?l.getFullYear():e;var t=new Date(r,s,1),o=t.getDay(),i=new Date(r,s+1,0).getDate(),c=new Date(r,s,0).getDate(),f=mondayFirst?-5:1;console.log("correctionDays",f),a(c-o+f,c),d(i),g.html(u[s]+", "+r)}function a(n,e,t){for(var o=n;e>=o;)y.append(i(o,t)),o++}function d(n){a(1,n,!0)}function i(e,t){return"undefined"==typeof e&&(e=""),n("<div>").addClass("day").addClass(t?"current-month":"").text(e)}var c=new Date,l=c,s=l.getMonth(),r=l.getFullYear(),u=["January","February","March","April","May","June","July","August","September","October","November","December"],f=n("<div>").addClass("btn btn-previous-month").html("&larr;").on("click",function(){s-=1,e(),"undefined"!=typeof o.onMonthChange&&o.onMonthChange(r,s),t(s,r)}),h=n("<div>").addClass("btn btn-next-month").html("&rarr;").on("click",function(){s+=1,e(),"undefined"!=typeof o.onMonthChange&&o.onMonthChange(r,s),t(s,r)}),y=n("<div>").addClass("cont-cal").on("click",".day",function(){n(this).siblings(".day.selected").removeClass("selected"),n(this).addClass("selected");var e=new Date(r,s,n(this).text());"undefined"!=typeof o.onDateClick&&o.onDateClick(e)}),g=n("<div>").addClass("cont-cal-title"),p=n("<div>").addClass("cont-cal-control").append(f,h,g);n(this).html("").append(p,y),t()})}}(jQuery);